<div style="padding: 16px;">
    <!-- Search bar -->
    <nz-input-group nzSuffixIcon="search" style="width: 300px; margin-bottom: 16px;">
      <input
        nz-input
        placeholder="Search templates..."
        [(ngModel)]="searchQuery"
      />
    </nz-input-group>
  
    <!-- Template cards -->
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px;">
      <nz-card *ngFor="let template of filteredTemplates()"
               style="border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
  
        <!-- Title -->
        <ng-template #titleTemplate>
          <div style="display: flex; align-items: center; gap: 4px;">
            <span nz-icon nzType="cluster" style="color:#722ed1;"></span>
            <span style="color: #000; font-weight: 600;">{{ template.name }}</span>
          </div>
        </ng-template>
  
        <!-- Description with collapsible feature -->
        <ng-template #descTemplate>
          <span style="color: #555;">
            {{ template.showFullDescription ? template.description : (template.description | slice:0:30) }}
            <span *ngIf="template.description && template.description.length > 30" 
                  style="color: #1890ff; cursor: pointer; font-weight: 500;"
                  (click)="template.showFullDescription = !template.showFullDescription">
              {{ template.showFullDescription ? ' Show Less' : '... Read More' }}
            </span>
          </span>
        </ng-template>
  
        <!-- Pass templates to nz-card-meta -->
        <nz-card-meta [nzTitle]="titleTemplate" [nzDescription]="descTemplate"></nz-card-meta>
  
        <!-- Action button -->
        <div style="margin-top: 12px; display: flex; justify-content: flex-end; gap: 8px;">
          <button nz-button nzType="primary" (click)="startInstance(template)">
            <span nz-icon nzType="play-circle" style="margin-right: 4px;"></span>
            Start Instance
          </button>
        </div>
  
      </nz-card>
    </div>
  
    <div *ngIf="filteredTemplates().length === 0"
         style="margin-top: 32px; text-align: center; color: #999;">
      No templates found.
    </div>
  </div>
  