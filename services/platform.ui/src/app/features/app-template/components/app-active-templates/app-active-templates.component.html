<!-- HEADER -->
<header class="instance-header">
  <div class="header-left">
    <h2 class="page-title">Active Templates</h2>
    <p class="page-sub">Browse available templates and start a new request.</p>
  </div>
</header>

<!-- FILTER BAR -->
<section class="instance-filter-bar">
  <div class="filter-row">
    <label class="filter-item">
      <i nz-icon nzType="search" class="filter-icon"></i>
      <input nz-input placeholder="Search templates..." [(ngModel)]="searchQuery" />
    </label>
  </div>
</section>

<!-- LIST -->
<main class="instance-list">
  <ng-container *ngIf="filteredTemplates().length; else empty">
    <nz-card *ngFor="let template of filteredTemplates()" class="instance-card" nzHoverable>
      <div class="meta-main">
        <div class="meta-header">
          <div>
            <a class="instance-link">{{ template.name }}</a>
            <div class="meta-sub">{{ template.description ? (template.description | slice:0:80) : '' }}</div>
          </div>
        </div>

        <div class="meta-stats">
          <div>Type: {{ template.name }}</div>
        </div>

        <div class="card-action">
          <button nz-button nzType="primary" (click)="startApp(template)">Start Request</button>
        </div>
      </div>
    </nz-card>
  </ng-container>

  <ng-template #empty>
    <p class="empty">No templates found</p>
  </ng-template>
</main>
