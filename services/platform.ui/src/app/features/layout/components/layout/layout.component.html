<nz-layout>
  <nz-sider nzCollapsible [(nzCollapsed)]="isCollapsed"  [nzTrigger]="null" nzTheme="light"[nzCollapsedWidth]="80" [nzWidth]="250">
    <div class="logo" style="color: rgb(19, 13, 13);"><h1> DEBELO </h1></div>
    <ul nz-menu nzTheme="light" nzMode="inline">
      <li nz-menu-item><a routerLink="/dashboard"><span nz-icon nzType="dashboard"></span> Dashboard</a></li>

      <li nz-submenu nzTitle="My Work" nzIcon="profile">
        <ul>
          <li nz-menu-item><a routerLink="/app-active-templates"><span nz-icon nzType="file-add"></span> Applications</a></li>
          <li nz-menu-item><a routerLink="/assigned-task"><span nz-icon nzType="check-circle"></span> Tasks</a></li>
          <li nz-menu-item><a routerLink="/requests"><span nz-icon nzType="folder-open"></span> Requests</a></li>
          <li nz-menu-item><a routerLink="/delegations"><span nz-icon nzType="swap"></span> Delegations</a></li>
          <li nz-menu-item><a routerLink="/notifications"><span nz-icon nzType="bell"></span> Notifications</a></li>
        </ul>
      </li>
    
      <li nz-submenu nzTitle="Approvals" nzIcon="solution">
        <ul>
          <li nz-menu-item><a routerLink="/app-template-list"><span nz-icon nzType="file-add"></span> Application Templates</a></li>
          <li nz-menu-item><a routerLink="/instance-list"><span nz-icon nzType="apartment"></span> Application Instances</a></li>
          <li nz-menu-item><a routerLink="/drafts"><span nz-icon nzType="edit"></span> Drafts</a></li>
          <li nz-menu-item><a routerLink="/archived"><span nz-icon nzType="inbox"></span> Archived Requests</a></li>
          <li nz-menu-item><a routerLink="/favorites"><span nz-icon nzType="star"></span> Favorites</a></li>
        </ul>
      </li>
    
      <li nz-submenu nzTitle="Stages" nzIcon="branches">
        <ul>
         <li nz-menu-item><a routerLink="/stage-definition-create"><span nz-icon nzType="file-add"></span> Add Stage </a></li>
          <li nz-menu-item><a routerLink="/stage-definition-list"><span nz-icon nzType="project"></span> Stage Definitions</a></li>
          <li nz-menu-item><a routerLink="/stage-instances"><span nz-icon nzType="deployment-unit"></span> Stage Instances</a></li>
          <li nz-menu-item><a routerLink="/stage-rules"><span nz-icon nzType="control"></span> Stage Rules</a></li>
        </ul>
      </li>
    
      <li nz-submenu nzTitle="User & Access Management" nzIcon="team">
        <ul>
          <li nz-menu-item><a routerLink="/list"><span nz-icon nzType="user"></span> Users</a></li>
          <li nz-menu-item><a routerLink="/role-list"><span nz-icon nzType="safety-certificate"></span> Roles & Permissions</a></li>
          <li nz-menu-item><a routerLink="/groups"><span nz-icon nzType="cluster"></span> Groups / Teams</a></li>
          <li nz-menu-item><a routerLink="/delegation-rules"><span nz-icon nzType="swap"></span> Delegation Rules</a></li>
        </ul>
      </li>
    
      <li nz-submenu nzTitle="Reports & Analytics" nzIcon="bar-chart">
        <ul>
          <li nz-menu-item><a routerLink="/app-reports"><span nz-icon nzType="area-chart"></span> Application Reports</a></li>
          <li nz-menu-item><a routerLink="/process-reports"><span nz-icon nzType="pie-chart"></span> Process Reports</a></li>
          <li nz-menu-item><a routerLink="/audit-logs"><span nz-icon nzType="file-search"></span> Audit Logs</a></li>
          <li nz-menu-item><a routerLink="/compliance-reports"><span nz-icon nzType="safety"></span> Compliance Reports</a></li>
        </ul>
      </li>
    
      <li nz-submenu nzTitle="Administration" nzIcon="setting">
        <ul>
          <li nz-menu-item><a routerLink="/system-settings"><span nz-icon nzType="setting"></span> System Settings</a></li>
          <li nz-menu-item><a routerLink="/form-settings"><span nz-icon nzType="form"></span> Form Settings</a></li>
          <li nz-menu-item><a routerLink="/rules"><span nz-icon nzType="branches"></span> Rules & Conditions</a></li>
          <li nz-menu-item><a routerLink="/integrations"><span nz-icon nzType="api"></span> Integrations</a></li>
          <li nz-menu-item><a routerLink="/database-tools"><span nz-icon nzType="database"></span> Database Tools</a></li>
          <li nz-menu-item><a routerLink="/cloud-settings"><span nz-icon nzType="cloud"></span> Cloud & Deployment</a></li>
        </ul>
      </li>
    
      <li nz-submenu nzTitle="Template Store" nzIcon="shopping-cart">
        <ul>
          <li nz-menu-item><a routerLink="/store"><span nz-icon nzType="shopping"></span> Prebuilt Templates</a></li>
        </ul>
      </li>
    </ul>
    
  </nz-sider>
  <nz-layout >
   
    <nz-header>
      <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">

        <!-- Collapse trigger -->
        <span
          class="trigger"
          nz-icon
          [nzType]="isCollapsed ? 'menu-unfold' : 'menu-fold'"
          (click)="isCollapsed = !isCollapsed">
        </span>

        <!-- User dropdown (only when user is loaded) -->
        <ng-container *ngIf="currentUser() as user">
          <div class="button-group">
            <button nz-button nzType="text">
              {{ user.username || user.email }}
            </button>

            <button
              nz-button
              nzType="text"
              nz-dropdown
              [nzDropdownMenu]="menu2"
              nzPlacement="bottomRight">
              <span nz-icon nzType="user"></span>
            </button>
          </div>
        </ng-container>

      </div>

      <!-- Dropdown menu -->
      <nz-dropdown-menu #menu2="nzDropdownMenu">
        <ul nz-menu>
          <li nz-menu-item (click)="onUserProfile()">
            <i nz-icon nzType="profile"></i>
            <span>User Profile</span>
          </li>

          <li nz-menu-item (click)="onPasswordReset()">
            <i nz-icon nzType="lock"></i>
            <span>Password Reset</span>
          </li>

          <li nz-menu-divider></li>

          <li nz-menu-item (click)="onLogout()">
            <i nz-icon nzType="logout"></i>
            <span>Logout</span>
          </li>
        </ul>
      </nz-dropdown-menu>
    </nz-header>
    
    <nz-content>
      <nz-breadcrumb>
        <nz-breadcrumb-item> </nz-breadcrumb-item>
      </nz-breadcrumb>
      <div class="inner-content">
        <router-outlet></router-outlet>
      </div>
    </nz-content>
    <nz-footer>
      <p>Copyright Â© Menagn Software {{ currentYear }}. All rights reserved.</p> 
    </nz-footer>
  </nz-layout>
</nz-layout>

